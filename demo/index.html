<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ACG Lewis Demo</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="panel">
    <h1>ACG Lewis Demo</h1>
    <p class="hint">Inserisci dati di nascita (data/ora/timezone IANA) e luogo di nascita (lat/lon). La mappa mostra le linee globali generate da quei dati, non una posizione di destinazione. Local Space e crossings sono inclusi.</p>
    <form id="natal-form">
      <div class="row">
        <label>Date</label>
        <input type="date" name="date" value="1990-01-01" required />
      </div>
      <div class="row">
        <label>Time</label>
        <input type="time" name="time" value="12:00" step="1" required />
      </div>
      <div class="row">
        <label>Timezone (IANA)</label>
        <input type="text" name="timezone" value="UTC" />
      </div>
      <div class="row">
        <label>Latitude</label>
        <input type="number" name="lat" value="40" step="0.0001" />
      </div>
      <div class="row">
        <label>Longitude</label>
        <input type="number" name="lon" value="-3" step="0.0001" />
      </div>
      <div class="row">
        <label>Altitude (m)</label>
        <input type="number" name="alt" value="0" step="1" />
      </div>
      <div class="row">
        <label>Radius km</label>
        <input type="number" name="radius" value="500" step="10" />
      </div>
      <div class="row">
        <label>Bodies (comma)</label>
        <input type="text" name="bodies" value="sun,moon,mercury,venus,mars" />
      </div>
      <div class="row">
        <label>System</label>
        <select name="system">
          <option value="tropical">Tropical</option>
          <option value="sidereal">Sidereal</option>
        </select>
      </div>
      <div class="row">
        <label>Angular orb (deg)</label>
        <input type="number" name="orb" value="1" step="0.1" />
      </div>
      <button type="submit">Compute & Plot</button>
      <span id="status"></span>
      <p class="hint">Se non vedi linee, apri la console del browser per i log.</p>
    </form>
  </div>
  <div id="map"></div>
  <div class="legend" id="legend">
    <div><strong>Legenda linee</strong></div>
    <div><span class="swatch mc"></span> MC (culminazione)</div>
    <div><span class="swatch ic"></span> IC (anticulminazione)</div>
    <div><span class="swatch asc"></span> ASC (sorgere)</div>
    <div><span class="swatch dsc"></span> DSC (tramontare)</div>
    <div><span class="swatch ls"></span> Local Space (direzione dal luogo natale)</div>
    <div><span class="swatch cross"></span> Crossing reale / pseudo</div>
  </div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="./app.js" type="module"></script>
</body>
</html>
